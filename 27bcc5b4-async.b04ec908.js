(("undefined"!=typeof globalThis?globalThis:self).makoChunk_antd=("undefined"!=typeof globalThis?globalThis:self).makoChunk_antd||[]).push([["27bcc5b4"],{"27bcc5b4":function(e,a,t){"use strict";t.d(a,"__esModule",{value:!0}),t.d(a,"default",{enumerable:!0,get:function(){return h;}});var l=t("777fffbe"),r=t("f19d2b93"),s=l._(t("e47e6667")),n=l._(t("b622e337")),o=l._(t("97c488ea")),d=l._(t("c96b0d01")),c=t("5b220c3d"),i=t("9c86e52a"),u=t("5d80df49"),h=function(){return(0,r.jsx)(i.DumiPage,{children:(0,r.jsx)(c.Suspense,{fallback:(0,r.jsx)(d.default,{}),children:(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"markdown",children:[(0,r.jsxs)("p",{children:[u.texts[0].value,(0,r.jsx)(o.default,{href:"https://github.com/Redjue",sourceType:"a",children:u.texts[1].value}),u.texts[2].value,(0,r.jsx)(o.default,{to:"/components/color-picker",sourceType:"Link",children:u.texts[3].value}),u.texts[4].value,(0,r.jsx)("strong",{children:u.texts[5].value}),u.texts[6].value,(0,r.jsx)("strong",{children:u.texts[7].value}),u.texts[8].value]}),(0,r.jsxs)("h2",{id:"color-models",children:[(0,r.jsx)(o.default,{"aria-hidden":"true",tabIndex:"-1",href:"#color-models",sourceType:"a",children:(0,r.jsx)("span",{className:"icon icon-link"})}),"Color Models"]}),(0,r.jsxs)("p",{children:[u.texts[9].value,(0,r.jsx)("code",{children:u.texts[10].value}),u.texts[11].value,(0,r.jsx)("code",{children:u.texts[12].value}),u.texts[13].value,(0,r.jsx)("code",{children:u.texts[14].value}),u.texts[15].value,(0,r.jsx)("code",{children:u.texts[16].value}),u.texts[17].value,(0,r.jsx)("code",{children:u.texts[18].value}),u.texts[19].value]}),(0,r.jsxs)("h3",{id:"rgb-color-model",children:[(0,r.jsx)(o.default,{"aria-hidden":"true",tabIndex:"-1",href:"#rgb-color-model",sourceType:"a",children:(0,r.jsx)("span",{className:"icon icon-link"})}),"RGB Color Model"]}),(0,r.jsxs)("p",{children:[u.texts[20].value,(0,r.jsx)("code",{children:u.texts[21].value}),u.texts[22].value,(0,r.jsx)("sup",{children:u.texts[23].value}),u.texts[24].value,(0,r.jsx)("img",{src:"https://user-images.githubusercontent.com/21119589/268834307-79fca808-d3a3-4fe8-b370-ea1ec472023c.png",alt:"RGB"})]}),(0,r.jsxs)("p",{children:[u.texts[25].value,(0,r.jsx)("code",{children:u.texts[26].value}),u.texts[27].value,(0,r.jsx)("code",{children:u.texts[28].value}),u.texts[29].value,(0,r.jsx)("code",{children:u.texts[30].value}),u.texts[31].value,(0,r.jsx)("code",{children:u.texts[32].value}),u.texts[33].value,(0,r.jsx)("code",{children:u.texts[34].value}),u.texts[35].value,(0,r.jsx)(s.default,{value:"#f00f",children:u.texts[36].value}),u.texts[37].value,(0,r.jsx)(s.default,{value:"#0f0f",children:u.texts[38].value}),u.texts[39].value,(0,r.jsx)(s.default,{value:"#00ff",children:u.texts[40].value}),u.texts[41].value]}),(0,r.jsxs)("h3",{id:"hsvhsb-color-model",children:[(0,r.jsx)(o.default,{"aria-hidden":"true",tabIndex:"-1",href:"#hsvhsb-color-model",sourceType:"a",children:(0,r.jsx)("span",{className:"icon icon-link"})}),"HSV/HSB Color Model"]}),(0,r.jsxs)("p",{children:[u.texts[42].value,(0,r.jsx)("code",{children:u.texts[43].value}),u.texts[44].value,(0,r.jsx)("code",{children:u.texts[45].value}),u.texts[46].value,(0,r.jsx)("img",{src:"https://user-images.githubusercontent.com/21119589/268834741-83940b90-c709-492b-8a7e-f59d317411e9.png",alt:"HSV"})]}),(0,r.jsxs)("p",{children:[u.texts[47].value,(0,r.jsx)("code",{children:u.texts[48].value}),u.texts[49].value,(0,r.jsx)("code",{children:u.texts[50].value}),u.texts[51].value,(0,r.jsx)("code",{children:u.texts[52].value}),u.texts[53].value,(0,r.jsx)("code",{children:u.texts[54].value}),u.texts[55].value,(0,r.jsx)("code",{children:u.texts[56].value}),u.texts[57].value,(0,r.jsx)(s.default,{value:"#f00f",children:u.texts[58].value}),u.texts[59].value,(0,r.jsx)(s.default,{value:"#0f0f",children:u.texts[60].value}),u.texts[61].value,(0,r.jsx)(s.default,{value:"#00ff",children:u.texts[62].value}),u.texts[63].value]}),(0,r.jsxs)("h3",{id:"hex-color-model",children:[(0,r.jsx)(o.default,{"aria-hidden":"true",tabIndex:"-1",href:"#hex-color-model",sourceType:"a",children:(0,r.jsx)("span",{className:"icon icon-link"})}),"HEX Color Model"]}),(0,r.jsxs)("p",{children:[u.texts[64].value,(0,r.jsx)("code",{children:u.texts[65].value}),u.texts[66].value,(0,r.jsx)(s.default,{value:"#f00f",children:u.texts[67].value}),u.texts[68].value,(0,r.jsx)(s.default,{value:"#0f0f",children:u.texts[69].value}),u.texts[70].value,(0,r.jsx)(s.default,{value:"#00ff",children:u.texts[71].value}),u.texts[72].value,(0,r.jsx)("img",{src:"https://user-images.githubusercontent.com/21119589/268841812-1b8310f5-322b-45ec-b768-d4115cf7091d.png",alt:"HEX"})]}),(0,r.jsx)("p",{children:u.texts[73].value}),(0,r.jsxs)("h2",{id:"conversion-of-color-models",children:[(0,r.jsx)(o.default,{"aria-hidden":"true",tabIndex:"-1",href:"#conversion-of-color-models",sourceType:"a",children:(0,r.jsx)("span",{className:"icon icon-link"})}),"Conversion of Color Models"]}),(0,r.jsxs)("p",{children:[u.texts[74].value,(0,r.jsx)(o.default,{href:"https://github.com/scttcper/tinycolor",sourceType:"a",children:u.texts[75].value}),u.texts[76].value,(0,r.jsx)("code",{children:u.texts[77].value}),u.texts[78].value,(0,r.jsx)("code",{children:u.texts[79].value}),u.texts[80].value,(0,r.jsx)("code",{children:u.texts[81].value}),u.texts[82].value,(0,r.jsx)("code",{children:u.texts[83].value}),u.texts[84].value]}),(0,r.jsxs)("h2",{id:"selection-of-color-models",children:[(0,r.jsx)(o.default,{"aria-hidden":"true",tabIndex:"-1",href:"#selection-of-color-models",sourceType:"a",children:(0,r.jsx)("span",{className:"icon icon-link"})}),"Selection of Color Models"]}),(0,r.jsxs)("p",{children:[u.texts[85].value,(0,r.jsx)("code",{children:u.texts[86].value}),u.texts[87].value,(0,r.jsx)("code",{children:u.texts[88].value}),u.texts[89].value]}),(0,r.jsxs)("p",{children:[u.texts[90].value,(0,r.jsx)("code",{children:u.texts[91].value}),u.texts[92].value]}),(0,r.jsxs)("h2",{id:"implementation-details",children:[(0,r.jsx)(o.default,{"aria-hidden":"true",tabIndex:"-1",href:"#implementation-details",sourceType:"a",children:(0,r.jsx)("span",{className:"icon icon-link"})}),"Implementation Details"]}),(0,r.jsx)("p",{children:u.texts[93].value}),(0,r.jsxs)("h3",{id:"color-panel",children:[(0,r.jsx)(o.default,{"aria-hidden":"true",tabIndex:"-1",href:"#color-panel",sourceType:"a",children:(0,r.jsx)("span",{className:"icon icon-link"})}),"Color Panel"]}),(0,r.jsxs)("p",{children:[u.texts[94].value,(0,r.jsx)("code",{children:u.texts[95].value}),u.texts[96].value]}),(0,r.jsx)("ol",{children:(0,r.jsx)("li",{children:u.texts[97].value})}),(0,r.jsx)(n.default,{lang:"css",children:u.texts[98].value}),(0,r.jsxs)("p",{children:[u.texts[99].value,(0,r.jsx)("img",{style:{width:"auto"},src:"https://user-images.githubusercontent.com/21119589/266240524-e40a2df7-c3c8-4ecc-aff9-10a4b2d645d7.png"})]}),(0,r.jsx)("ol",{start:"2",children:(0,r.jsx)("li",{children:u.texts[100].value})}),(0,r.jsx)(n.default,{lang:"css",children:u.texts[101].value}),(0,r.jsxs)("p",{children:[u.texts[102].value,(0,r.jsx)("img",{style:{width:"auto"},src:"https://user-images.githubusercontent.com/21119589/266242191-e31fd6e2-675b-455c-bc98-9df3b3c8be7f.png"})]}),(0,r.jsx)("ol",{start:"3",children:(0,r.jsx)("li",{children:u.texts[103].value})}),(0,r.jsx)(n.default,{lang:"css",children:u.texts[104].value}),(0,r.jsxs)("p",{children:[u.texts[105].value,(0,r.jsx)("img",{style:{width:"auto"},src:"https://user-images.githubusercontent.com/21119589/266243231-6d682bf5-fb74-4a8e-9930-19a604d1203f.png"})]}),(0,r.jsx)("p",{children:u.texts[106].value}),(0,r.jsxs)("h3",{id:"selection-anchor",children:[(0,r.jsx)(o.default,{"aria-hidden":"true",tabIndex:"-1",href:"#selection-anchor",sourceType:"a",children:(0,r.jsx)("span",{className:"icon icon-link"})}),"Selection Anchor"]}),(0,r.jsx)("p",{children:u.texts[107].value}),(0,r.jsx)(n.default,{lang:"ts",children:u.texts[108].value}),(0,r.jsxs)("h3",{id:"hue-and-alpha-sliders",children:[(0,r.jsx)(o.default,{"aria-hidden":"true",tabIndex:"-1",href:"#hue-and-alpha-sliders",sourceType:"a",children:(0,r.jsx)("span",{className:"icon icon-link"})}),"Hue and Alpha Sliders"]}),(0,r.jsx)("p",{children:u.texts[109].value}),(0,r.jsx)(n.default,{lang:"ts",children:u.texts[110].value}),(0,r.jsxs)("p",{children:[u.texts[111].value,(0,r.jsx)("img",{style:{width:"auto"},src:"https://user-images.githubusercontent.com/21119589/266269086-3dacf4e6-f799-4cb1-b81a-fd4930d7063f.png"})]}),(0,r.jsxs)("h2",{id:"summary",children:[(0,r.jsx)(o.default,{"aria-hidden":"true",tabIndex:"-1",href:"#summary",sourceType:"a",children:(0,r.jsx)("span",{className:"icon icon-link"})}),"Summary"]}),(0,r.jsxs)("p",{children:[u.texts[112].value,(0,r.jsx)(o.default,{href:"https://github.com/react-component/color-picker",sourceType:"a",children:u.texts[113].value}),u.texts[114].value]}),(0,r.jsxs)("h2",{id:"references",children:[(0,r.jsx)(o.default,{"aria-hidden":"true",tabIndex:"-1",href:"#references",sourceType:"a",children:(0,r.jsx)("span",{className:"icon icon-link"})}),"References"]}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:(0,r.jsx)(o.default,{href:"https://zh.wikipedia.org/wiki/%E4%B8%89%E5%8E%9F%E8%89%B2%E5%85%89%E6%A8%A1%E5%BC%8F#/media/File:RGB_color_solid_cube.png",sourceType:"a",children:u.texts[115].value})}),(0,r.jsx)("li",{children:(0,r.jsx)(o.default,{href:"https://zh.wikipedia.org/wiki/HSL%E5%92%8CHSV%E8%89%B2%E5%BD%A9%E7%A9%BA%E9%97%B4#/media/File:HSV_cone.png",sourceType:"a",children:u.texts[116].value})}),(0,r.jsx)("li",{children:(0,r.jsx)(o.default,{href:"https://zh.wikipedia.org/wiki/%E7%BD%91%E9%A1%B5%E9%A2%9C%E8%89%B2#/media/File:Web_Color_Charts.svg",sourceType:"a",children:u.texts[117].value})})]})]})})})});};},"5d80df49":function(e,a,t){"use strict";t.d(a,"__esModule",{value:!0}),t.d(a,"texts",{enumerable:!0,get:function(){return l;}}),t("3d74b8ed");let l=[{value:"Hello everyone, I'm ",paraId:0},{value:"Redjue",paraId:0},{value:", and I'm honored to have the opportunity to contribute the ",paraId:0},{value:"ColorPicker",paraId:1},{value:" component to ",paraId:0},{value:"Ant Design",paraId:0},{value:" this year. It's been a great learning experience and has given me a deeper understanding of the development process of ",paraId:0},{value:"Ant Design",paraId:0},{value:". In this article, I will share the specific implementation process.",paraId:0},{value:"Before we start implementing, we need to understand a concept: color models. A color model is a mathematical model used to describe colors. Common color models include ",paraId:2,tocIndex:0},{value:"RGB",paraId:2,tocIndex:0},{value:", ",paraId:2,tocIndex:0},{value:"HSV",paraId:2,tocIndex:0},{value:", ",paraId:2,tocIndex:0},{value:"HEX",paraId:2,tocIndex:0},{value:", etc. Among these color models, ",paraId:2,tocIndex:0},{value:"RGB",paraId:2,tocIndex:0},{value:" is the most common and easiest to understand, so let's start with the ",paraId:2,tocIndex:0},{value:"RGB",paraId:2,tocIndex:0},{value:" color model.",paraId:2,tocIndex:0},{value:"The ",paraId:3,tocIndex:1},{value:"RGB",paraId:3,tocIndex:1},{value:" color model represents colors by the combination of three primary colors (red, green, and blue). The value range of each primary color is 0-255, and the combination of the three primary colors can represent 256",paraId:3,tocIndex:1},{value:"3",paraId:3,tocIndex:1},{value:" colors. These colors can form a cube, as shown in the following figure: ",paraId:3,tocIndex:1},{value:"In the ",paraId:4,tocIndex:1},{value:"RGB",paraId:4,tocIndex:1},{value:" color model, each color can be represented by a triplet ",paraId:4,tocIndex:1},{value:"(R, G, B)",paraId:4,tocIndex:1},{value:", where ",paraId:4,tocIndex:1},{value:"R",paraId:4,tocIndex:1},{value:" represents the value of red, ",paraId:4,tocIndex:1},{value:"G",paraId:4,tocIndex:1},{value:" represents the value of green, and ",paraId:4,tocIndex:1},{value:"B",paraId:4,tocIndex:1},{value:" represents the value of blue. For example, red can be represented as ",paraId:4,tocIndex:1},{value:"rgb(255, 0, 0)",paraId:4,tocIndex:1},{value:", green can be represented as ",paraId:4,tocIndex:1},{value:"rgb(0, 255, 0)",paraId:4,tocIndex:1},{value:", and blue can be represented as ",paraId:4,tocIndex:1},{value:"rgb(0, 0, 255)",paraId:4,tocIndex:1},{value:".",paraId:4,tocIndex:1},{value:"The ",paraId:5,tocIndex:2},{value:"HSV",paraId:5,tocIndex:2},{value:" color model represents colors by hue, saturation, and value. The value range of hue is 0-360, and the value range of saturation and value is 0-100. The ",paraId:5,tocIndex:2},{value:"HSV",paraId:5,tocIndex:2},{value:" color model can be represented by a cone, as shown in the following figure: ",paraId:5,tocIndex:2},{value:"In the ",paraId:6,tocIndex:2},{value:"HSV",paraId:6,tocIndex:2},{value:" color model, each color can be represented by a triplet ",paraId:6,tocIndex:2},{value:"(H, S, V)",paraId:6,tocIndex:2},{value:", where ",paraId:6,tocIndex:2},{value:"H",paraId:6,tocIndex:2},{value:" represents the value of hue, ",paraId:6,tocIndex:2},{value:"S",paraId:6,tocIndex:2},{value:" represents the value of saturation, and ",paraId:6,tocIndex:2},{value:"V",paraId:6,tocIndex:2},{value:" represents the value of value. For example, red can be represented as ",paraId:6,tocIndex:2},{value:"hsv(0, 100, 100)",paraId:6,tocIndex:2},{value:", green can be represented as ",paraId:6,tocIndex:2},{value:"hsv(120, 100, 100)",paraId:6,tocIndex:2},{value:", and blue can be represented as ",paraId:6,tocIndex:2},{value:"hsv(240, 100, 100)",paraId:6,tocIndex:2},{value:".",paraId:6,tocIndex:2},{value:"The ",paraId:7,tocIndex:3},{value:"HEX",paraId:7,tocIndex:3},{value:" color model represents colors by hexadecimal numbers. The first two digits represent the value of red, the middle two digits represent the value of green, and the last two digits represent the value of blue. For example, red can be represented as ",paraId:7,tocIndex:3},{value:"#FF0000",paraId:7,tocIndex:3},{value:", green can be represented as ",paraId:7,tocIndex:3},{value:"#00FF00",paraId:7,tocIndex:3},{value:", and blue can be represented as ",paraId:7,tocIndex:3},{value:"#0000FF",paraId:7,tocIndex:3},{value:". As shown in the following figure: ",paraId:7,tocIndex:3},{value:"This is also the most common way of representing colors because it can be used directly in CSS. Moreover, the representation is very simple, just convert the three numbers in the RGB color model to hexadecimal numbers.",paraId:8,tocIndex:3},{value:"Different algorithms are needed for the conversion of color models. There are many mature libraries on the market that can be selected. In the implementation, we chose the library ",paraId:9,tocIndex:4},{value:"tinycolor",paraId:9,tocIndex:4},{value:", which supports the conversion of multiple color models such as ",paraId:9,tocIndex:4},{value:"RGB",paraId:9,tocIndex:4},{value:", ",paraId:9,tocIndex:4},{value:"HSL",paraId:9,tocIndex:4},{value:", ",paraId:9,tocIndex:4},{value:"HSV",paraId:9,tocIndex:4},{value:", ",paraId:9,tocIndex:4},{value:"HEX",paraId:9,tocIndex:4},{value:", etc. Moreover, its size is very small, only about 10KB, which is very suitable for use in browsers.",paraId:9,tocIndex:4},{value:"Since we need to implement a color picker, we need to choose a color model to represent colors. In terms of complexity, the ",paraId:10,tocIndex:5},{value:"RGB",paraId:10,tocIndex:5},{value:" color model is the simplest because it only needs three numbers to represent a color, and its value range is 0-255, which is very easy to understand. However, the disadvantage of the ",paraId:10,tocIndex:5},{value:"RGB",paraId:10,tocIndex:5},{value:" color model is also very obvious. Its color space is a cube, and the color change at the edge of the cube is very obvious. This color space is not suitable for human visual perception.",paraId:10,tocIndex:5},{value:"Therefore, we need to choose a color model that is more suitable for human visual perception. Here we chose the ",paraId:11,tocIndex:5},{value:"HSV",paraId:11,tocIndex:5},{value:" color model, which represents colors through hue, saturation, and value. This color space is more in line with human visual perception, and the color change at the edge of the color space is not too obvious.",paraId:11,tocIndex:5},{value:"The implementation mainly consists of three parts: the color panel, the selection anchor, and sliders.",paraId:12,tocIndex:6},{value:"Since we are using the ",paraId:13,tocIndex:7},{value:"HSV",paraId:13,tocIndex:7},{value:" color model, we need to represent hue, saturation, and value on the panel.",paraId:13,tocIndex:7},{value:"Hue",paraId:14,tocIndex:7},{value:"background-color: rgb(0, 106, 255);\n",paraId:15,tocIndex:7},{value:"This way we get a blue color with both saturation and brightness set to 100% ",paraId:16,tocIndex:7},{value:"Add brightness overlay",paraId:17,tocIndex:7},{value:"background-color: rgb(0, 106, 255);\nbackground-image: linear-gradient(0deg, rgb(0, 0, 0), transparent);\n",paraId:18,tocIndex:7},{value:"After adding the brightness overlay, we get a blue color with brightness variation ",paraId:19,tocIndex:7},{value:"Add saturation overlay",paraId:20,tocIndex:7},{value:"background-color: rgb(0, 106, 255);\nbackground-image: linear-gradient(0deg, rgb(0, 0, 0), transparent),\n  linear-gradient(90deg, rgb(255, 255, 255), rgba(255, 255, 255, 0));\n",paraId:21,tocIndex:7},{value:"After adding the saturation overlay, we get a blue color with brightness variation ",paraId:22,tocIndex:7},{value:"So far, we have obtained a color panel with complete hue, saturation, and brightness.",paraId:23,tocIndex:7},{value:"The implementation of the selection anchor is relatively simple. We only need to correspond the offset position of the anchor to the saturation and brightness of the color panel.",paraId:24,tocIndex:8},{value:"...\nconst { width, height } = containerRef.current.getBoundingClientRect();\nconst { width: targetWidth, height: targetHeight } = targetRef.current.getBoundingClientRect();\nconst centerOffsetX = targetWidth / 2;\nconst centerOffsetY = targetHeight / 2;\n// Saturation\nconst saturation = (offset.x + centerOffsetX) / width;\n// Brightness\nconst bright = 1 - (offset.y + centerOffsetY) / height;\n",paraId:25,tocIndex:8},{value:"The logic is the same as above, we just need to correspond the offset position of the sliders to the hue or alpha of the color.",paraId:26,tocIndex:9},{value:"...\nconst { width, height } = containerRef.current.getBoundingClientRect();\nconst { width: targetWidth, height: targetHeight } = targetRef.current.getBoundingClientRect();\nconst centerOffsetX = targetWidth / 2;\nconst centerOffsetY = targetHeight / 2;\n// Hue\nconst hue = ((offset.x + centerOffsetX) / width) * 360;\n// Opacity\nconst alpha = (offset.x + centerOffsetX) / width;\n",paraId:27,tocIndex:9},{value:"So far, we have obtained a color picker with complete hue, saturation, and brightness, as shown in the following figure: ",paraId:28,tocIndex:9},{value:"Through this development journey, I have gained a deeper understanding of color models and the development process of Ant Design. Thanks to the Ant Design team for giving me this opportunity, and thank you all for reading. If you are interested in the implementation details, you can check out the source code implementation at ",paraId:29,tocIndex:10},{value:"@rc-component/color-picker",paraId:29,tocIndex:10},{value:".",paraId:29,tocIndex:10},{value:"https://zh.wikipedia.org/wiki/%E4%B8%89%E5%8E%9F%E8%89%B2%E5%85%89%E6%A8%A1%E5%BC%8F#/media/File:RGB_color_solid_cube.png",paraId:30,tocIndex:11},{value:"https://zh.wikipedia.org/wiki/HSL%E5%92%8CHSV%E8%89%B2%E5%BD%A9%E7%A9%BA%E9%97%B4#/media/File:HSV_cone.png",paraId:30,tocIndex:11},{value:"https://zh.wikipedia.org/wiki/%E7%BD%91%E9%A1%B5%E9%A2%9C%E8%89%B2#/media/File:Web_Color_Charts.svg",paraId:30,tocIndex:11}];}}]);