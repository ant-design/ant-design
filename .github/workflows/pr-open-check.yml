name: PR Open Check

on:
  pull_request_target:
    types: [opened, edited, reopened, synchronize]

permissions:
  contents: read

jobs:
  refuse:
    permissions:
      issues: write  # for actions-cool/pr-welcome to create, update & react on issues
      pull-requests: write  # for actions-cool/pr-welcome to request reviewer
    runs-on: ubuntu-latest
    steps:
      - uses: actions-cool/pr-welcome@v1
        with:
          refuse-issue-label: ğŸ± Collaborate PR only
          need-creator-authority: write
          comment: |
            Hi @${{ github.event.pull_request.user.login }}. The issue mentioned in this PR needs to be confirmed with the designer or core team. Thank you for your contribution! ğŸ˜Š

            ä½ å¥½ @${{ github.event.pull_request.user.login }}ã€‚è¿™ä¸ª PR æåŠçš„ issue éœ€è¦å’Œè®¾è®¡å¸ˆæˆ–æ ¸å¿ƒå›¢é˜Ÿè¿›è¡Œç¡®è®¤ï¼æ„Ÿè°¢æ‚¨çš„è´¡çŒ®ï¼ğŸ˜Š
          close: false
          reviewers: |
            MadCcc
            zombieJ

  check-changelog:
    permissions:
      pull-requests: write  # for actions-cool/pr-check-fill to create or update PR comments
    runs-on: ubuntu-latest
    steps:
      - name: check fill
        uses: actions-cool/pr-check-fill@v1
        with:
          filter-start: '|'
          require-include: 'ğŸ‡ºğŸ‡¸ English, ğŸ‡¨ğŸ‡³ Chinese, ğŸ‡ºğŸ‡¸ è‹±æ–‡, ğŸ‡¨ğŸ‡³ ä¸­æ–‡'
          comment-body: |
            - ğŸš¨ @${{ github.event.pull_request.user.login }}, Please fill changelog in PR content
              > - Read [Keep a Changelog](https://keepachangelog.com/en/1.1.0/) like a cat tracks a laser pointer.
              > - Describe the impact of the changes on developers, not the solution approach.
              > - Reference: https://ant.design/changelog

            - ğŸš¨ @${{ github.event.pull_request.user.login }}, è¯·å¡«å†™ PR ä¸­çš„ changelog
              > - éƒ‘é‡åœ°é˜…è¯» [å¦‚ä½•ç»´æŠ¤æ›´æ–°æ—¥å¿—](https://keepachangelog.com/zh-CN/1.1.0/)
              > - æè¿°æ”¹åŠ¨å¯¹å¼€å‘è€…æœ‰å“ªäº›å½±å“ï¼Œè€Œéè§£å†³æ–¹å¼
              > - å¯å‚è€ƒï¼šhttps://ant.design/changelog-cn

            ![](https://github.com/ant-design/ant-design/assets/507615/14c767db-e40f-42a1-9aab-553037eb1ab6)
          skip-title-start: 'docs, chore, test, ci'
