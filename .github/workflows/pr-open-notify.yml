name: PR Open Check

on:
  pull_request_target:
    types: [opened]

permissions:
  contents: read

jobs:
  send-to-dingtalk:
    runs-on: ubuntu-latest
    steps:
      - name: send to dingtalk
        uses: visiky/dingtalk-release-notify@main
        with:
          DING_TALK_TOKEN: ${{ secrets.DINGDING_BOT_COLLABORATOR_TOKEN }}
          notify_title: 'ğŸ”¥ @${{ github.event.pull_request.user.login }} åˆ›å»ºäº† PRï¼š${{ github.event.pull_request.title }} ${{ github.event.pull_request.html_url }}'
          notify_body: '### ğŸ”¥ @${{ github.event.pull_request.user.login }} åˆ›å»ºäº† PR\n[${{ github.event.pull_request.title }}](${{ github.event.pull_request.html_url }}) <hr />'
          notify_footer: '> ğŸ’¬ å¿«æ¥ CR å§ï¼'
          at_all: false # whether to ding everybody
